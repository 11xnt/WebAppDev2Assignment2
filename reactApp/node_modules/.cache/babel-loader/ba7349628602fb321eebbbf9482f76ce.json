{"ast":null,"code":"import _slicedToArray from \"C:/Users/allen/Documents/GitHub/WebAppDev2Assignment2/reactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\allen\\\\Documents\\\\GitHub\\\\WebAppDev2Assignment2\\\\reactApp\\\\src\\\\loginPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { AuthContext } from './authContext';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar LoginPage = function LoginPage(props) {\n  _s();\n\n  var context = useContext(AuthContext);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setUserName = _useState2[1];\n\n  var login = function login() {\n    context.authenticate(userName);\n  }; // Set 'from' to path where browser is redirected after a successful login.\n  // Either / or the protected path user tried to access.\n\n\n  var _ref = props.location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  },\n      from = _ref.from;\n\n  if (context.isAuthenticated === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: from\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 16\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You must log in to view the protected pages \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"username\",\n      placeholder: \"user name\",\n      onChange: function onChange(e) {\n        setUserName(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 24\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: login,\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Not Registered?\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        children: \"Sign Up!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(LoginPage, \"E+MrJ/XQlybM2V1bbHaLb9I6CU8=\");\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/Users/allen/Documents/GitHub/WebAppDev2Assignment2/reactApp/src/loginPage.js"],"names":["React","useContext","useState","Redirect","AuthContext","Link","LoginPage","props","context","userName","setUserName","login","authenticate","location","state","from","pathname","isAuthenticated","e","target","value"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;AAAA;;AACvB,MAAMC,OAAO,GAAGP,UAAU,CAACG,WAAD,CAA1B;;AACA,kBAAgCF,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOO,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChBH,IAAAA,OAAO,CAACI,YAAR,CAAqBH,QAArB;AACH,GAFD,CAJuB,CAQvB;AACA;;;AACA,aAAiBF,KAAK,CAACM,QAAN,CAAeC,KAAf,IAAwB;AAAEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAAzC;AAAA,MAAQD,IAAR,QAAQA,IAAR;;AAEA,MAAIP,OAAO,CAACS,eAAR,KAA4B,IAAhC,EAAsC;AAClC,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAEF;AAAd;AAAA;AAAA;AAAA;AAAA,aAAP;AACH;;AACD,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,eAGI;AAAO,MAAA,EAAE,EAAC,UAAV;AAAqB,MAAA,WAAW,EAAC,WAAjC;AAA6C,MAAA,QAAQ,EAAE,kBAAAG,CAAC,EAAI;AACxDR,QAAAA,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH;AAFD;AAAA;AAAA;AAAA;AAAA,aAHJ,eAKe;AAAA;AAAA;AAAA;AAAA,aALf,eAOI;AAAQ,MAAA,OAAO,EAAET,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPJ,eAQI;AAAA,iDACI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ;AAAA;AAAA;AAAA;AAAA;AAAA,aARJ;AAAA,kBADJ;AAaH,CA5BD;;GAAML,S;;KAAAA,S;AA8BN,eAAeA,SAAf","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { AuthContext } from './authContext';\nimport { Link } from \"react-router-dom\";\n\nconst LoginPage = props => {\n    const context = useContext(AuthContext)\n    const [userName, setUserName] = useState(\"\");\n\n    const login = () => {\n        context.authenticate(userName);\n    };\n\n    // Set 'from' to path where browser is redirected after a successful login.\n    // Either / or the protected path user tried to access.\n    const { from } = props.location.state || { from: { pathname: \"/\" } };\n\n    if (context.isAuthenticated === true) {\n        return <Redirect to={from} />;\n    }\n    return (\n        <>\n            <h2>Login page</h2>\n            <p>You must log in to view the protected pages </p>\n            <input id=\"username\" placeholder=\"user name\" onChange={e => {\n                setUserName(e.target.value);\n            }}></input><br />\n            {/* Login web form  */}\n            <button onClick={login}>Log in</button>\n            <p>Not Registered?\n                <Link to=\"/signup\">Sign Up!</Link></p>\n        </>\n    );\n};\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}